<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Introduction to Kubernetes :: Kube-Native Java Apps</title>
    <link rel="canonical" href="https://github.com/redhat-scholars/kube-native-java-apps/kube-native-java-apps/03-kube-intro.html">
    <link rel="prev" href="02-bootstrap.html">
    <link rel="next" href="04-containers.html">
    <meta name="generator" content="Antora 3.0.0">
    <link rel="stylesheet" href="../_/css/site.css">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://developers.redhat.com" target="_blank"><img src="../_/img/NewRHDFullLogo_4-color_white-wordmark.png" height="40px" alt="Red Hat Developer Program"></a>
      <a class="navbar-item" style="font-size: 24px; color: white" href="https://github.com/redhat-scholars/kube-native-java-apps">Kube-Native Java Apps</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="https://developers.redhat.com/ebooks/" target="_blank">Books</a>
        <a class="navbar-item" href="https://developers.redhat.com/cheatsheets/" target="_blank">Cheat Sheets</a>
        <a class="navbar-item" href="https://developers.redhat.com/events/" target="_blank">Upcoming Events</a>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">More Tutorials</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="https://redhat-developer-demos.github.io/kubernetes-tutorial/" target="_blank">Kubernetes</a>
            <a class="navbar-item" href="https://redhat-developer-demos.github.io/istio-tutorial/" target="_blank">Istio</a>
            <a class="navbar-item" href="https://redhat-developer-demos.github.io/quarkus-tutorial/" target="_blank">Quarkus</a>
            <a class="navbar-item" href="https://redhat-developer-demos.github.io/knative-tutorial/" target="_blank">Knative</a>
            <a class="navbar-item" href="https://redhat-developer-demos.github.io/tekton-tutorial/" target="_blank">Tekton</a>
          </div>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="kube-native-java-apps" data-version="master">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="index.html"></a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="01-setup.html">Get Started</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="01-setup.html#prerequisite">Prerequisites</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="02-bootstrap.html">Bootstrap Quarkus App</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="02-bootstrap.html#devmode">Quarkus dev mode</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="02-bootstrap.html#continuous-testing">Quarkus Continuous Testing</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="02-bootstrap.html#configuration">Configuration</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="02-bootstrap.html#resteasy-openapi">RestEasy Jackson/OpenAPI</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="02-bootstrap.html#springboot-compat">Spring Boot migration</a>
  </li>
</ul>
  </li>
  <li class="nav-item is-current-page" data-depth="0">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="03-kube-intro.html">Introduction to Kubernetes</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="#sandbox">Getting your OpenShift Sandbox account</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="#quay">Getting your Quay account</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="04-containers.html">Creating containers</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="04-containers.html#dockerfile">Using Dockerfile</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="04-containers.html#jib">Using Jib</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="04-containers.html#buildpacks">Using Buildpacks</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="05-kube-deployment.html">Kubernetes Deployment</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="05-kube-deployment.html#kube-extension">Kubernetes extension</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="05-kube-deployment.html#customize-resources">Customize created resources</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="06-rest-client-fault.html">Rest Client &amp; Fault Tolerance</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="06-rest-client-fault.html#rest-client">Create Rest Client</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="06-rest-client-fault.html#fault-tolerance">Fault tolerance on communication with external API</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="07-kube-advanced.html">Kubernetes Advanced</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="07-kube-advanced.html">Integration tests to avoid Kubernetes YAML issues</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="08-quarkus-cloud-native.html">Quarkus Cloud Native</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="08-quarkus-cloud-native.html#limits">Adjust Resource Limits</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="08-quarkus-cloud-native.html#health">Health check extension</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="09-panache.html">Hibernate Panache</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="09-panache.html#panache-apps">Create Panache Applications</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="09-panache.html#dev-services">Dev services</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="09-panache.html#deploy-db">Deploy Database in the sandbox</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="09-panache.html#show-healths">Show Health Checks</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="10-metrics.html">Observability</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="10-metrics.html#micrometer">Micrometer</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="10-metrics.html#jaeger">Jaeger</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="11-serverless.html">Going Serverless</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="11-serverless.html#knative-intro">Intro to Knative</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="11-serverless.html#servelessing-service">Serverlessing a service</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="11-serverless.html#native-compile">Compile to native</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="11-serverless.html#deploy-native">Deploy</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="12-bonus-track.html">BONUS - Kafka</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="12-bonus-track.html#managed-kafka">Create a Managed Kafka instance</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="12-bonus-track.html#deploy-quarkus-sb">Deploy app in Quarkus using Kafka and Service Binding</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="index.html">Tutorial</a></li>
    <li><a href="03-kube-intro.html">Introduction to Kubernetes</a></li>
  </ul>
</nav>
  <div class="edit-this-page"><a href="https://github.com/redhat-scholars/kube-native-java-apps/edit/master/documentation/modules/ROOT/pages/03-kube-intro.adoc">Edit this Page</a></div>
  </div>
  <div class="content">
<article class="doc">
<h1 class="page">Introduction to Kubernetes</h1>
<div class="sect1">
<h2 id="sandbox"><a class="anchor" href="#sandbox"></a>Getting your OpenShift Sandbox account</h2>
<div class="sectionbody">
<div class="paragraph">
<p><a href="https://developers.redhat.com/developer-sandbox" target="_blank" rel="noopener">Developer Sandbox for Red Hat OpenShift</a> is a free Kubernetes cloud environment in a shared, multi-tenant OpenShift cluster that is pre-configured with a set of developer tools. The Developer Sandbox is active for 30 days and renewable once it expires.</p>
</div>
<div class="paragraph">
<p>To create your account, register to <a href="https://developers.redhat.com/developer-sandbox" target="_blank" rel="noopener">Developer Sandbox for Red Hat OpenShift</a>. From there, click on the red button that says <strong>Get Started in the Sandbox</strong> as shown in the following image.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/devsandbox-signup.png" alt="Developer Sandbox Sign-up Page">
</div>
</div>
<div class="paragraph">
<p>Use your existing Red Hat account or create a new one, then follow the instructions on the screen. You should then be redirected to the Developer Sandbox page again, but this time, you should see a button labelled <strong>Start using your sandbox</strong>.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/devsandbox-start.png" alt="Developer Sandbox Start Page">
</div>
</div>
<div class="paragraph">
<p>Clicking on it opens up the OpenShift login screen where you can log in using the <strong>DevSandbox</strong> button, as seen below.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/devsandbox-login.png" alt="Log in the Developer Sandbox">
</div>
</div>
<div class="paragraph">
<p>Clicking this button opens up your new OpenShift cluster console.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/devsandbox-topology-view.png" alt="Topology View">
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Quotas and Limits</div>
<div class="paragraph">
<p>Your private OpenShift environment on Developer Sandbox includes quotas and limits of:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>7 GB RAM</p>
</li>
<li>
<p>15GB storage</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>which is enough to run this workshop.</p>
</div>
<div class="paragraph">
<p>There are two fixed projects (namespaces):</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>&lt;your_username&gt;-dev</code></p>
</li>
<li>
<p><code>&lt;your_username&gt;-stage</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In this shared environment, it&#8217;s <strong>NOT</strong> possible to create a new project as in <a href="#projects.adoc#create_your_first_project" class="xref unresolved params-link" target="_blank" rel="noopener">Create your First Project</a>. This environment doesn&#8217;t support Pipelines Operator, so you can skip the <a href="#prerequisites.adoc#openshift_pipelines" class="xref unresolved params-link" target="_blank" rel="noopener">OpenShift Pipelines</a> prerequisite.</p>
</div>
<div class="paragraph">
<p>Please work in the <code>&lt;your_username&gt;-dev</code> project.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="command_line_interface"><a class="anchor" href="#command_line_interface"></a>Command Line Interface</h3>
<div class="paragraph">
<p>OpenShift ships with a feature rich web console as well as command line tools
to provide users with a nice interface to work with applications deployed to the
platform.  The OpenShift tools are a single executable written in the Go
programming language and is available for the following operating systems:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Microsoft Windows</p>
</li>
<li>
<p>Mac OS X</p>
</li>
<li>
<p>Linux</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>You might already have the OpenShift CLI available on your environment. You can verify
it by running an <code>oc</code> command:</p>
</div>
<div class="listingblock console-input">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">oc version</code></pre>
</div>
</div>
<div class="paragraph">
<p>You should see the following (or something similar):</p>
</div>
<div class="listingblock console-output">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">Client Version: 4.9.2
Server Version: 4.9.15 <i class="conum" data-value="1"></i><b>(1)</b>
Kubernetes Version: v1.22.3+e790d7f</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>NOTE: you will only see the <code>Server Version</code> and <code>Kubernetes Version</code> if you are currently connected to a Kubenetes or OpenShift cluster</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>If you see output like the above you can skip to <a href="#connect_to_the_cluster_with_cli">Connect to the OpenShift Cluster from CLI</a>.</p>
</div>
<div class="paragraph">
<p>However, if the <code>oc</code> command doesn&#8217;t exist or you have an older version of the OpenShift CLI (e.g. &lt; <code>4.4.x</code>), select the tab appropriate to your OS and follow the instructions to install or update the OpenShift CLI.</p>
</div>
<div class="sect3">
<h4 id="download_openshift_cli"><a class="anchor" href="#download_openshift_cli"></a>Download OpenShift CLI</h4>
<div class="tabset is-loading">
<div class="ulist tabs">
<ul>
<li>
<p><a id="tabset1_mac-osx"></a>Mac OSX</p>
</li>
<li>
<p><a id="tabset1_windows"></a>Windows</p>
</li>
<li>
<p><a id="tabset1_linux"></a>Linux</p>
</li>
</ul>
</div>
<div class="content">
<div class="tab-pane" aria-labelledby="tabset1_mac-osx">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If you have <a href="www.brew.sh">HomeBrew</a> installed you can instead install the OpenShift CLI using the <code>brew</code> command.  If you don&#8217;t have homebrew, then follow the manual download and install instructions that follow the inset.
</td>
</tr>
</table>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Download and Install OpenShift CLI on Mac OS X using HomeBrew</div>
<div class="listingblock copypaste">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">brew install openshift-cli</code></pre>
</div>
</div>
<div class="paragraph">
<p>You may also want to enable CLI autocompletion (bash or zsh):</p>
</div>
<div class="listingblock copypaste">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">source &lt;(oc completion bash)</code></pre>
</div>
</div>
<div class="listingblock copypaste">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">source &lt;(oc completion zsh)</code></pre>
</div>
</div>
<div class="paragraph">
<p>To make CLI autocompletion persistent (bash or zsh) by adding a relevant line to your .bashrc or .zshrc:</p>
</div>
<div class="listingblock copypaste">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">oc completion bash &gt; oc_bash_completion.sh

source oc_bash_completion.sh</code></pre>
</div>
</div>
<div class="listingblock copypaste">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">oc completion zsh &gt; oc_zsh_completion.sh

source oc_zsh_completion.sh</code></pre>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>From top right menu bar, click to the little white question mark icon, then click to <strong>Command Line Tools</strong>:</p>
</div>
<div class="imageblock unresolved">
<div class="content">
<img src="prerequisites_cli_links.png" alt="Download CLI">
</div>
</div>
<div class="paragraph">
<p>Scroll down to <code>oc - OpenShift Command Line Interface (CLI)</code> and click on the link appropriate to your OS</p>
</div>
<div class="imageblock unresolved">
<div class="content">
<img src="prerequisites_cli_binaries.png" alt="CLI Binaries">
</div>
</div>
<div class="paragraph">
<p>Once the file has been downloaded, you will need to extract the contents as it
is a compressed archive. It is recommended that this file is saved to the following
directory:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">~/OpenShift</code></pre>
</div>
</div>
<div class="paragraph">
<p>Open up a terminal window and change to the directory where you downloaded the
file.  Once you are in the directory, enter in the following command:</p>
</div>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<i class="fa icon-caution" title="Caution"></i>
</td>
<td class="content">
The name of the oc packaged archive may vary. Adjust accordingly.
</td>
</tr>
</table>
</div>
<div class="listingblock console-input">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">tar zxvf oc-macosx.tar.gz</code></pre>
</div>
</div>
<div class="paragraph">
<p>The tar.gz file name needs to be replaced by the entire name that was downloaded in the previous step.</p>
</div>
<div class="paragraph">
<p>Now you can add the OpenShift CLI tools to your PATH.</p>
</div>
<div class="listingblock console-input">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">export PATH=$PATH:~/OpenShift</code></pre>
</div>
</div>
<div class="paragraph">
<p>At this point, we should have the oc tool available for use. Let&#8217;s test this
out by printing the version of the <code>oc</code> command:</p>
</div>
<div class="listingblock console-input">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">oc version</code></pre>
</div>
</div>
<div class="paragraph">
<p>You should see the following (or something similar):</p>
</div>
<div class="listingblock console-output">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">Client Version: 4.7.0</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you get an error message, you may not have not updated your path correctly. If after checking your <code>PATH</code> you
still cannot get the <code>oc</code> command to work, contact your lab instructor for assistence.</p>
</div>
</div>
<div class="tab-pane" aria-labelledby="tabset1_windows">
<div class="paragraph">
<p>From top right menu bar, click to the little white question mark icon, then click to <strong>Command Line Tools</strong>:</p>
</div>
<div class="imageblock unresolved">
<div class="content">
<img src="prerequisites_cli_links.png" alt="Download CLI">
</div>
</div>
<div class="paragraph">
<p>Scroll down to <code>oc - OpenShift Command Line Interface (CLI)</code> and click on the link appropriate to your OS</p>
</div>
<div class="imageblock unresolved">
<div class="content">
<img src="prerequisites_cli_binaries.png" alt="CLI Binaries">
</div>
</div>
<div class="paragraph">
<p>The CLI for Windows is provided as a zip archive. Download and unzip the archive with a ZIP program and move the oc binary to a directory on your PATH. To check your PATH, open the Command Prompt and run:</p>
</div>
<div class="listingblock console-input">
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell hljs" data-lang="shell">path</code></pre>
</div>
</div>
<div class="paragraph">
<p>Checkout this blog post if you&#8217;d like to set it up with <a href="https://www.openshift.com/blog/installing-oc-tools-windows" target="_blank" rel="noopener">Powershell</a></p>
</div>
<div class="paragraph">
<p>At this point, we should have the oc tool available for use. Let&#8217;s test this
out by printing the version of the <code>oc</code> command:</p>
</div>
<div class="listingblock console-input">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">oc version</code></pre>
</div>
</div>
<div class="paragraph">
<p>You should see the following (or something similar):</p>
</div>
<div class="listingblock console-output">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">Client Version: 4.7.0</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you get an error message, you may not have not updated your path correctly. If after checking your <code>PATH</code> you
still cannot get the <code>oc</code> command to work, contact your lab instructor for assistence.</p>
</div>
</div>
<div class="tab-pane" aria-labelledby="tabset1_linux">
<div class="paragraph">
<p>From top right menu bar, click to the little white question mark icon, then click to <strong>Command Line Tools</strong>:</p>
</div>
<div class="imageblock unresolved">
<div class="content">
<img src="prerequisites_cli_links.png" alt="Download CLI">
</div>
</div>
<div class="paragraph">
<p>Scroll down to <code>oc - OpenShift Command Line Interface (CLI)</code> and click on the link appropriate to your OS</p>
</div>
<div class="imageblock unresolved">
<div class="content">
<img src="prerequisites_cli_binaries.png" alt="CLI Binaries">
</div>
</div>
<div class="paragraph">
<p>Once the file has been downloaded, you will need to extract the contents as it
is a compressed archive. It is recommended that this file is saved to the following
directory:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">~/OpenShift</code></pre>
</div>
</div>
<div class="paragraph">
<p>Open up a terminal window and change to the directory where you downloaded the
file.  Once you are in the directory, enter in the following command:</p>
</div>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<i class="fa icon-caution" title="Caution"></i>
</td>
<td class="content">
The name of the oc packaged archive may vary. Adjust accordingly.
</td>
</tr>
</table>
</div>
<div class="listingblock console-input">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">tar zxvf oc-linux.tar.gz</code></pre>
</div>
</div>
<div class="paragraph">
<p>The tar.gz file name needs to be replaced by the entire name that was downloaded in the previous step.</p>
</div>
<div class="paragraph">
<p>Now you can add the OpenShift CLI tools to your PATH.</p>
</div>
<div class="listingblock console-input">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">export PATH=$PATH:~/OpenShift</code></pre>
</div>
</div>
<div class="paragraph">
<p>At this point, we should have the oc tool available for use. Let&#8217;s test this
out by printing the version of the <code>oc</code> command:</p>
</div>
<div class="listingblock console-input">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">oc version</code></pre>
</div>
</div>
<div class="paragraph">
<p>You should see the following (or something similar):</p>
</div>
<div class="listingblock console-output">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">Client Version: 4.7.0</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you get an error message, you may not have not updated your path correctly. If after checking your <code>PATH</code> you
still cannot get the <code>oc</code> command to work, contact your lab instructor for assistence.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="use_web_terminal"><a class="anchor" href="#use_web_terminal"></a>Web Terminal</h4>
<div class="paragraph">
<p>OpenShift Web Console supports a web based Terminal called <a href="https://docs.openshift.com/container-platform/4.9/web_console/odc-about-web-terminal.html">Web Terminal</a>. Instead of installing the <code>oc</code> CLI locally, you could just run this web based terminal containing useful tools such as:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>oc</code></p>
</li>
<li>
<p><code>kubectl</code></p>
</li>
<li>
<p><code>odo</code></p>
</li>
<li>
<p><code>helm</code></p>
</li>
<li>
<p><code>tkn</code></p>
</li>
<li>
<p><code>kn</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If you want to have it in your current cluster, you can install it from OperatorHub following the <a href="https://docs.openshift.com/container-platform/4.9/web_console/odc-about-web-terminal.html">documentation</a>.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
If you are using <a href="https://developers.redhat.com/developer-sandbox">Developer Sandbox for OpenShift</a>, this has been already installed to your cluster!
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Navigate to top-right, click the command line terminal icon.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/explore-web-terminal.png" alt="Web Terminal">
</div>
</div>
<div class="paragraph">
<p>From bottom-left, click the <strong>Start</strong> button.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/explore-web-terminal-start.png" alt="Start Web Terminal">
</div>
</div>
<div class="paragraph">
<p>Start using <code>oc</code> from the web terminal. The session is usually already authenticated to the cluster so you can <strong>skip</strong> the following section on how to connect from CLI.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/explore-web-terminal-cmd.png" alt="Use Web Terminal">
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">oc whoami</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="connect_to_the_cluster_with_cli"><a class="anchor" href="#connect_to_the_cluster_with_cli"></a>Connect to the OpenShift Cluster from CLI</h4>
<div class="paragraph">
<p>Once your <code>oc</code> client is setup on your Workstation, you can connect to cluster and start working also with OpenShift CLI.</p>
</div>
<div class="paragraph">
<p>From Web Console overview, go to top-right menu bar and click to the dropdown menu containing your username, then click <strong>Copy Login Command</strong>:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/prerequisites_copy_login_command.png" alt="Copy Login Command">
</div>
</div>
<div class="paragraph">
<p>Click on <strong>Display Token</strong> and copy the command under <strong>Login with this token</strong>:</p>
</div>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">oc login --token=some_token --server=https://c104-e.us-east.containers.cloud.ibm.com:32208</code></pre>
</div>
</div>
<div class="listingblock console-output">
<div class="content">
<pre class="highlightjs highlight"><code class="language-text hljs" data-lang="text">Logged into "https://c104-e.us-east.containers.cloud.ibm.com:32208" as "%USERNAME%" using the token provided.

You have access to 68 projects, the list has been suppressed. You can list all projects with 'oc projects'

Using project "default".</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="quay"><a class="anchor" href="#quay"></a>Getting your Quay account</h2>
<div class="sectionbody">
<div class="paragraph">
<p><a href="https://quay.io/repository/">Quay.io</a> is an artifact repository for building, analyzing and distributing container images.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/quay-home.png" alt="quay home">
</div>
</div>
<div class="paragraph">
<p>With the account created in <a href="#sandbox">Getting your OpenShift Sandbox account</a>, you can also sign in to the Quay.io to start publishing containers.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/quay-login.png" alt="quay login">
</div>
</div>
<div class="paragraph">
<p>And now that you are logged, you should see something similar as:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/quay-user.png" alt="quay user">
</div>
</div>
<div class="paragraph">
<p>With a Kubernetes cluster up and running, and Quay.io account setup, it&#8217;s time to start deploying something to Kubernetes to understand the concepts behind Kubernetes.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="deploying-kubernetes"><a class="anchor" href="#deploying-kubernetes"></a>Deploy Something</h2>
<div class="sectionbody">
<div id="kubectl-deploy-app" class="listingblock console-input">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">kubectl create deployment myapp --image=quay.io/rhdevelopers/quarkus-demo:v1</code></pre>
</div>
</div>
<div class="listingblock console-input">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">kubectl get events --sort-by=.metadata.creationTimestamp</code></pre>
</div>
</div>
<div class="listingblock console-output">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">LAST SEEN   TYPE     REASON              OBJECT                        MESSAGE
&lt;unknown&gt;   Normal   Scheduled           pod/myapp-5dcbf46dfc-ghrk4    Successfully assigned mystuff/myapp-5dcbf46dfc-ghrk4 to g
cp-5xldg-w-a-5ptpn.us-central1-a.c.ocp42project.internal
29s         Normal   SuccessfulCreate    replicaset/myapp-5dcbf46dfc   Created pod: myapp-5dcbf46dfc-ghrk4
29s         Normal   ScalingReplicaSet   deployment/myapp              Scaled up replica set myapp-5dcbf46dfc to 1
21s         Normal   Pulling             pod/myapp-5dcbf46dfc-ghrk4    Pulling image "quay.io/burrsutter/quarkus-demo:1.0.0"
15s         Normal   Pulled              pod/myapp-5dcbf46dfc-ghrk4    Successfully pulled image "quay.io/burrsutter/quarkus-dem
o:1.0.0"
15s         Normal   Created             pod/myapp-5dcbf46dfc-ghrk4    Created container quarkus-demo
15s         Normal   Started             pod/myapp-5dcbf46dfc-ghrk4    Started container quarkus-demo</code></pre>
</div>
</div>
<div class="sect2">
<h3 id="_created_objects"><a class="anchor" href="#_created_objects"></a>Created Objects</h3>
<div class="sect3">
<h4 id="_deployments"><a class="anchor" href="#_deployments"></a>Deployments</h4>
<div id="kubectl-get-deployments" class="listingblock console-input">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">kubectl get deployments</code></pre>
</div>
</div>
<div class="listingblock console-output">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">NAME    READY   UP-TO-DATE   AVAILABLE   AGE
myapp   1/1     1            1           95s</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_replicasets"><a class="anchor" href="#_replicasets"></a>Replicasets</h4>
<div id="kubectl-get-replicasets" class="listingblock console-input">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">kubectl get replicasets</code></pre>
</div>
</div>
<div class="listingblock console-output">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">NAME               DESIRED   CURRENT   READY   AGE
myapp-5dcbf46dfc   1         1         1       2m1s</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_pods"><a class="anchor" href="#_pods"></a>Pods</h4>
<div id="kubectl-get-podsx" class="listingblock console-input">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">kubectl get pods --show-labels</code></pre>
</div>
</div>
<div class="listingblock console-output">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">NAME                     READY   STATUS    RESTARTS   AGE     LABELS
myapp-5dcbf46dfc-ghrk4   1/1     Running   0          2m18s   app=myapp,pod-template-hash=5dcbf46dfc</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_logs"><a class="anchor" href="#_logs"></a>Logs</h4>
<div id="kubectl-logs" class="listingblock console-input">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">kubectl logs -l app=myapp</code></pre>
</div>
</div>
<div class="listingblock console-output">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">2020-03-22 14:41:30,497 INFO  [io.quarkus] (main) Quarkus 0.22.0 started in 0.021s. Listening on: <a href="http://0.0.0.0:8080" class="bare">http://0.0.0.0:8080</a>
2020-03-22 14:41:30,497 INFO  [io.quarkus] (main) Installed features: [cdi, resteasy]</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_expose_a_service"><a class="anchor" href="#_expose_a_service"></a>Expose a Service</h3>
<div id="kubectl-expose" class="listingblock console-input">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">kubectl expose deployment myapp --port=8080 --type=LoadBalancer</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="_talk_to_the_app"><a class="anchor" href="#_talk_to_the_app"></a>Talk to the App</h4>
<div class="listingblock console-input">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">kubectl get services</code></pre>
</div>
</div>
<div class="listingblock console-output">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">NAME                                TYPE           CLUSTER-IP       EXTERNAL-IP                                                              PORT(S)

myapp                               LoadBalancer   172.30.30.51     a515aaf73ae40447d804bb4ba234fc89-774051193.us-east-1.elb.amazonaws.com   8080:31534/TCP                               3m9s
workspace680adb7c461a4d04-service   ClusterIP      172.30.247.111   &lt;none&gt;                                                                   4444/TCP</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>myapp</code> is the service to access to the deployment.
Wait until <code>EXTERNAL-IP</code> is set, it might take from 1 to 2 minutes.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">curl a515aaf73ae40447d804bb4ba234fc89-774051193.us-east-1.elb.amazonaws.com:8080</code></pre>
</div>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>If it takes more than 2 minutes create an OpenShift route:</p>
</div>
<div class="listingblock console-input">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">oc expose svc myapp

kubectl get routes</code></pre>
</div>
</div>
<div class="listingblock console-output">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">NAME    HOST/PORT                                                   PATH   SERVICES   PORT   TERMINATION   WILDCARD
myapp   myapp-asotobue-dev.apps.sandbox.x8i5.p1.openshiftapps.com          myapp      8080                 None</code></pre>
</div>
</div>
<div class="listingblock console-input">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">curl myapp-asotobue-dev.apps.sandbox.x8i5.p1.openshiftapps.com:8080</code></pre>
</div>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_scale_the_app"><a class="anchor" href="#_scale_the_app"></a>Scale the App</h3>
<div id="change-replicas" class="listingblock console-input">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">kubectl scale deployment myapp --replicas=3</code></pre>
</div>
</div>
<div class="listingblock console-output">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">NAME                     READY   STATUS              RESTARTS   AGE
myapp-5dcbf46dfc-6sn2s   0/1     ContainerCreating   0          4s
myapp-5dcbf46dfc-ghrk4   1/1     Running             0          5m32s
myapp-5dcbf46dfc-z6hqw   0/1     ContainerCreating   0          4s</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_updating_container"><a class="anchor" href="#_updating_container"></a>Updating container</h3>
<div class="paragraph">
<p>Start a rolling update by changing the image:</p>
</div>
<div id="set-image-myboot-v1" class="listingblock console-input">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">kubectl set image deployment/myapp quarkus-demo=quay.io/rhdevelopers/myboot:v1</code></pre>
</div>
</div>
<div class="listingblock console-output">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">Supersonic Subatomic Java with Quarkus myapp-5dcbf46dfc-6sn2s:188
Supersonic Subatomic Java with Quarkus myapp-5dcbf46dfc-z6hqw:169
Aloha from Spring Boot! 0 on myapp-58b97dbd95-vxd87
Aloha from Spring Boot! 1 on myapp-58b97dbd95-vxd87
Supersonic Subatomic Java with Quarkus myapp-5dcbf46dfc-6sn2s:189
Supersonic Subatomic Java with Quarkus myapp-5dcbf46dfc-z6hqw:170
Aloha from Spring Boot! 2 on myapp-58b97dbd95-vxd87</code></pre>
</div>
</div>
<div id="set-image-myboot-v2" class="listingblock console-input">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">kubectl set image deployment/myapp quarkus-demo=quay.io/rhdevelopers/myboot:v2</code></pre>
</div>
</div>
<div class="listingblock console-output">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">Bonjour from Spring Boot! 2 on myapp-7d58855c6b-6c8gd
Bonjour from Spring Boot! 3 on myapp-7d58855c6b-6c8gd
Aloha from Spring Boot! 7 on myapp-58b97dbd95-mjlwx
Bonjour from Spring Boot! 4 on myapp-7d58855c6b-6c8gd
Aloha from Spring Boot! 8 on myapp-58b97dbd95-mjlwx
Bonjour from Spring Boot! 5 on myapp-7d58855c6b-6c8gd</code></pre>
</div>
</div>
<div id="set-image-quarkus-demo" class="listingblock console-input">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">kubectl set image deployment/myapp quarkus-demo=quay.io/rhdevelopers/quarkus-demo:v1</code></pre>
</div>
</div>
<div class="listingblock console-output">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">Bonjour from Spring Boot! 14 on myapp-7d58855c6b-dw67s
Supersonic Subatomic Java with Quarkus myapp-5dcbf46dfc-tcfwp:3
Supersonic Subatomic Java with Quarkus myapp-5dcbf46dfc-tcfwp:4
Bonjour from Spring Boot! 15 on myapp-7d58855c6b-dw67s
Supersonic Subatomic Java with Quarkus myapp-5dcbf46dfc-tcfwp:5
Bonjour from Spring Boot! 13 on myapp-7d58855c6b-72wp8
Supersonic Subatomic Java with Quarkus myapp-5dcbf46dfc-7rkxj:1
Supersonic Subatomic Java with Quarkus myapp-5dcbf46dfc-7rkxj:2
Supersonic Subatomic Java with Quarkus myapp-5dcbf46dfc-7lf9t:1
Supersonic Subatomic Java with Quarkus myapp-5dcbf46dfc-7rkxj:3
Supersonic Subatomic Java with Quarkus myapp-5dcbf46dfc-7lf9t:2
Supersonic Subatomic Java with Quarkus myapp-5dcbf46dfc-7lf9t:3
Supersonic Subatomic Java with Quarkus myapp-5dcbf46dfc-tcfwp:6</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_clean_up"><a class="anchor" href="#_clean_up"></a>Clean Up</h3>
<div id="delete-namespace" class="listingblock console-input">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">kubectl delete all --all</code></pre>
</div>
</div>
</div>
</div>
</div>
<nav class="pagination">
  <span class="prev"><a href="02-bootstrap.html">Bootstrap Quarkus App</a></span>
  <span class="next"><a href="04-containers.html">Creating containers</a></span>
</nav>
</article>
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
  </div>
</main>
</div>
<footer class="footer">
  <a class="rhd-logo" href="https://developers.redhat.com" target="_blank"></div>
</footer>
<script src="../_/js/vendor/clipboard.js"></script>
<script src="../_/js/site.js"></script>
<script async src="../_/js/vendor/highlight.js"></script>
  </body>
</html>
